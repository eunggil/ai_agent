# Docker Compose 환경 변수 설정
# 이 파일을 .env로 복사하여 사용하세요: cp .env.docker .env

# GCP 설정
GCP_PROJECT_ID=your-gcp-project-id
GCP_REGION=us-central1

# Vertex AI 인증 (로컬 개발)
# gcloud auth application-default login 실행 후 자동 생성되는 경로
GOOGLE_APPLICATION_CREDENTIALS=~/.config/gcloud/application_default_credentials.json

# Mock DB 사용 여부
USE_MOCK_VECTOR_DB=true
USE_MOCK_GRAPH_DB=true

# PostgreSQL 설정 (Mock 사용 시 필요 없음)
POSTGRES_DB=ai_agent
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Redis 설정 (선택적)
REDIS_HOST=redis
REDIS_PORT=6379

# 애플리케이션 설정
ENVIRONMENT=development
LOG_LEVEL=DEBUG
API_VERSION=v1

# ============================================
# AI 프로바이더 설정
# ============================================
# 옵션 1: Vertex AI (기본)
AI_PROVIDER=vertex

# 옵션 2: 로컬 LLM (Ollama) - 아래 주석 해제
# AI_PROVIDER=local
# OLLAMA_BASE_URL=http://ollama:11434   # Docker 내부 통신
# OLLAMA_BASE_URL=http://host.docker.internal:11434  # 호스트 Ollama 사용 시
# LOCAL_MODEL=llama3

# Vertex AI LLM 모델
VERTEX_AI_MODEL=gemini-1.5-flash

# Vertex AI 이미지/영상 생성 모델
VERTEX_AI_IMAGEN_MODEL=imagen-4.0-fast-generate-001
IMAGEN_WATERMARK=false
VERTEX_VEO_MODEL=veo-3.1-fast-generate-001
# Veo 필수: GCS 버킷 이름 (MEDIA_PROVIDER=vertex 또는 vertex_veo 사용 시)
VERTEX_VEO_GCS_BUCKET=your-bucket-name
VEO_TIMEOUT_SECONDS=600
VERTEX_AI_IMAGEN_MODEL=imagegeneration@006
VERTEX_AI_LOCATION=us-central1

# 벡터 설정
VECTOR_DIMENSION=128
VECTOR_SIMILARITY_THRESHOLD=0.7

# 캐시 설정
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# 광고 설정
AD_MAX_CANDIDATES=10
AD_REVENUE_WEIGHT=0.6
AD_FITNESS_WEIGHT=0.4

# ============================================
# 미디어 생성 설정
# ============================================
# none=텍스트만, vertex_imagen=GCP Imagen, local_diffusers=로컬GPU, replicate=API
MEDIA_PROVIDER=none
MEDIA_TYPE=image

# 이미지 모델 (local_diffusers, replicate 공통)
IMAGE_MODEL=lcm-lora-sdxl
# VIDEO_MODEL=animatediff-lcm

# 로컬 Diffusers 장치 설정
# Docker 내부에서는 MPS 미지원 (CUDA 또는 CPU)
DIFFUSERS_DEVICE=auto
MEDIA_OUTPUT_DIR=/app/generated_media

# Replicate (MEDIA_PROVIDER=replicate 일 때)
# REPLICATE_API_TOKEN=your-token
